<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="theme-color" content="#D9D9D9" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1" />

    <title>국민건강비서</title>
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css");

        body {
            --vw: min(100vw, 730px);
            --dpx: calc(var(--vw) / 375);
            width: var(--vw);
            height: 100dvh;
            margin: 0px auto;
            padding: 0px;
            display: flex;
            flex-direction: column;
            /* gap: 20px; */
            justify-content: space-between;
            align-items: center;
            background-color: #D9D9D9;
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
            touch-action: pinch-zoom;
            pointer-events: none;
            user-select: none !important;
            overflow: hidden;
        }

        .indicator {
            width: var(--vw);
            box-sizing: border-box;
            /* position: fixed; */
            display: flex;
            justify-content: space-between;
            padding: 0px 26px 0px 22px;
            /* top: 0px;
            left: 0px; */
        }


        .poster__container {
            width: var(--vw);
            height: auto;
            min-height: var(--vw);
            max-height: calc(500 * var(--dpx));
            background-color: #A9DBC7;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .poster__container--square {
            height: var(--vw);
        }

        .poster__qna {
            width: calc(335 * var(--dpx));
            height: 100%;
            background-color: #fff;
            /* display: flex;
            justify-content: center;
            align-items: center; */
            /* margin: calc(20 * var(--dpx)); */
            margin: calc(20 * var(--dpx));
            margin-bottom: 0px;
            box-sizing: border-box;
            /* border: #1D1D1D solid calc(2 * var(--dpx));
            border-radius: 100px calc(12 * var(--dpx)) calc(12 * var(--dpx)) 100px; */
        }

        .poster__qna_q_container {
            width: calc(280 * var(--dpx));
            height: calc(60 * var(--dpx));
            display: flex;
            justify-content: center;
            align-items: center;
            /* margin: calc(20 * var(--dpx)); */
            margin: 0px;
            padding: 0px;
            border: #1D1D1D solid calc(2 * var(--dpx));
            background-color: #FFE6E5;
            transform: translate(-10px, -10px);
            /* border-radius: 100px calc(12 * var(--dpx)) calc(12 * var(--dpx)) 100px; */
        }

        /* .poster__qna_q_icon {
            width: calc(52 * var(--dpx));
            height: calc(52 * var(--dpx));
            margin: calc(4 * var(--dpx));
            background-color: #1D1D1D;
            color: #FFFFFF;
            font-size: calc(36 * var(--dpx));
            font-weight: 700;
            line-height: calc(52 * var(--dpx));
            text-align: center;
            vertical-align: middle;
            border-radius: 100px;
        } */

        .poster__qna_q {
            width: calc(260 * var(--dpx));
            /* height: calc(60 * var(--dpx)); */
            margin: 0px 0px 0px 0px;
            padding: 0px;
            font-size: calc(20 * var(--dpx));
            font-weight: 700;
            color: #1D1D1D;
            line-height: 120%;
            text-align: left;
            vertical-align: middle;
        }


        .poster__qna_a {
            width: 100%;
            max-height: calc(320 * var(--dpx));
            margin: 0px;
            padding: 0px calc(15 * var(--dpx));
            box-sizing: border-box;
            /* padding: 0px; */
            font-size: calc(18 * var(--dpx));
            color: #000000;
            line-height: 140%;
            text-align: justify;
            pointer-events: auto;
            overflow: scroll;
        }

        .poster__qna_a--magnified {
            font-size: calc(28 * var(--dpx));
            pointer-events: auto;
        }

        .poster__disclaimer {
            /* position:
            bottom: 0;
            left: 0; */
            width: calc(335 * var(--dpx));
            /* height: calc(30 * var(--dpx)); */
            padding: calc(7 * var(--dpx));
            box-sizing: border-box;
            margin: 0px calc(20 * var(--dpx));
            font-size: calc(11 * var(--dpx));
            font-weight: 400;
            line-height: 100%;
            letter-spacing: -0.55px;
            color: #666666;
            background-color: #fff;
            text-align: center;
            vertical-align: center;
        }


        .button__container {
            /* position: fixed;
            bottom: 0; */
            width: var(--vw);
            /* height: 49px; */
            /* padding: 0px 12px; */
            /* display: flex; */
            /* justify-content: center; */
            /* box-sizing: border-box; */
        }

        .button__container--inline {
            width: 100%;
            display: flex;
            justify-content: space-between;
            gap: 7px;
            padding: 7px;
            box-sizing: border-box;
        }

        .button--small {
            /* width: 100%; */
            flex-grow: 1;
            height: 49px;
            background-color: #848488;
            color: #FFFFFF;
            font-size: 20px;
            font-weight: 700;
            line-height: 49px;
            text-align: center;
            border-radius: 8px;
            pointer-events: auto;
        }

        .button--selected {
            background-color: #0071E3;
        }

        .button--save {
            width: 100%;
            height: 49px;
            background-color: #0071E3;
            color: #FFFFFF;
            font-size: 20px;
            font-weight: 700;
            line-height: 49px;
            text-align: center;
            /* border-radius: 8px; */
            pointer-events: auto;
        }
    </style>
</head>

<body>
    <div class="indicator">
        <svg width="139" height="26" viewBox="0 0 139 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M39.1943 21.5469H37.3486V5.67383H39.1943V21.5469ZM37.8057 13.4697H34.9844V11.8965H37.8057V13.4697ZM35.5469 20.7646H33.7627V5.97266H35.5469V20.7646ZM27.1006 16.2031C28.3018 16.2031 29.3242 16.1768 30.168 16.124C31.0117 16.0713 31.873 15.9629 32.752 15.7988L32.9014 17.3984C32.0049 17.5684 31.123 17.6855 30.2559 17.75C29.3945 17.8086 28.3428 17.8408 27.1006 17.8467H26.0195V16.2031H27.1006ZM31.9521 9.13672H27.9795V16.9941H26.0195V7.55469H31.9521V9.13672ZM46.9199 17.6797H44.96V15.0869H46.9199V17.6797ZM53.6523 21.5469H51.6836V5.67383H53.6523V21.5469ZM55.8848 13.8564H53.002V12.2393H55.8848V13.8564ZM40.8994 17.1523C42.8506 17.1582 44.6348 17.1318 46.252 17.0732C47.8691 17.0146 49.3984 16.8857 50.8398 16.6865L50.9717 18.1279C49.917 18.3154 48.8213 18.4561 47.6846 18.5498C46.5537 18.6377 45.4873 18.6963 44.4854 18.7256C43.4834 18.7549 42.3789 18.7695 41.1719 18.7695L40.8994 17.1523ZM50.6553 9.04883H41.1895V7.50195H50.6553V9.04883ZM45.9619 9.77832C46.7061 9.77832 47.3682 9.9043 47.9482 10.1562C48.5342 10.4023 48.9912 10.751 49.3193 11.2021C49.6475 11.6475 49.8115 12.1631 49.8115 12.749C49.8115 13.3291 49.6475 13.8418 49.3193 14.2871C48.9912 14.7324 48.5342 15.0811 47.9482 15.333C47.3682 15.5791 46.7061 15.7021 45.9619 15.7021C45.2061 15.7021 44.5352 15.5791 43.9492 15.333C43.3633 15.0811 42.9092 14.7354 42.5869 14.2959C42.2646 13.8506 42.1035 13.335 42.1035 12.749C42.1035 12.1631 42.2646 11.6475 42.5869 11.2021C42.9092 10.751 43.3633 10.4023 43.9492 10.1562C44.5352 9.9043 45.2061 9.77832 45.9619 9.77832ZM45.9619 11.2725C45.5635 11.2725 45.2119 11.3311 44.9072 11.4482C44.6025 11.5654 44.3652 11.7354 44.1953 11.958C44.0312 12.1807 43.9492 12.4443 43.9492 12.749C43.9492 13.0479 44.0312 13.3086 44.1953 13.5312C44.3594 13.7539 44.5938 13.9209 44.8984 14.0322C45.209 14.1436 45.5635 14.1992 45.9619 14.1992C46.3545 14.1992 46.7002 14.1436 46.999 14.0322C47.3037 13.9209 47.5381 13.7539 47.7021 13.5312C47.8662 13.3086 47.9482 13.0479 47.9482 12.749C47.9482 12.4443 47.8662 12.1807 47.7021 11.958C47.5381 11.7354 47.3037 11.5654 46.999 11.4482C46.7002 11.3311 46.3545 11.2725 45.9619 11.2725ZM46.9199 8.60938H44.96V5.74414H46.9199V8.60938ZM71.1689 19.7188H56.6494V18.1104H71.1689V19.7188ZM64.832 18.7959H62.9072V14.9727H64.832V18.7959ZM69.4375 11.8613H60.3145V14.7441H58.3633V10.3232H67.5127V8.33691H58.3369V6.75488H69.4375V11.8613ZM69.8154 15.5088H58.3633V13.918H69.8154V15.5088ZM84.6953 13.2588H82.7441V10.2881H84.6953V13.2588ZM89.2568 11.0879H78.332V9.5498H89.2568V11.0879ZM89.125 7.80957H80.292V10.3936H78.332V6.23633H89.125V7.80957ZM90.9619 13.8477H76.4951V12.292H90.9619V13.8477ZM89.1689 18.7432H80.1338V20.3604H78.2002V17.3633H87.2354V16.3174H78.1914V14.8672H89.1689V18.7432ZM89.5996 21.415H78.2002V19.9121H89.5996V21.415ZM96.3145 6.83398C97.1113 6.83398 97.8203 7.06543 98.4414 7.52832C99.0625 7.98535 99.5518 8.63867 99.9092 9.48828C100.267 10.332 100.445 11.3164 100.445 12.4414C100.445 13.5723 100.267 14.5625 99.9092 15.4121C99.5518 16.2559 99.0596 16.9092 98.4326 17.3721C97.8115 17.835 97.1055 18.0664 96.3145 18.0664C95.5176 18.0664 94.8057 17.835 94.1787 17.3721C93.5518 16.9092 93.0625 16.2559 92.7109 15.4121C92.3594 14.5625 92.1836 13.5723 92.1836 12.4414C92.1836 11.3164 92.3594 10.332 92.7109 9.48828C93.0625 8.63867 93.5518 7.98535 94.1787 7.52832C94.8057 7.06543 95.5176 6.83398 96.3145 6.83398ZM96.3145 8.5918C95.8691 8.58594 95.4736 8.73828 95.1279 9.04883C94.7881 9.35938 94.5244 9.80469 94.3369 10.3848C94.1553 10.959 94.0645 11.6445 94.0645 12.4414C94.0645 13.2383 94.1553 13.9297 94.3369 14.5156C94.5244 15.0957 94.791 15.5381 95.1367 15.8428C95.4824 16.1416 95.875 16.291 96.3145 16.291C96.7598 16.291 97.1523 16.1416 97.4922 15.8428C97.8379 15.5381 98.1016 15.0957 98.2832 14.5156C98.4648 13.9297 98.5557 13.2383 98.5557 12.4414C98.5557 11.6387 98.4648 10.9502 98.2832 10.376C98.1016 9.7959 97.8379 9.35352 97.4922 9.04883C97.1523 8.73828 96.7598 8.58594 96.3145 8.5918ZM104.488 21.5469H102.537V5.67383H104.488V21.5469ZM106.94 13.4258H104.049V11.7822H106.94V13.4258ZM120.045 21.5381H118.094V5.67383H120.045V21.5381ZM122.4 13.5049H119.544V11.8877H122.4V13.5049ZM115.853 7.33496C115.853 8.95215 115.609 10.458 115.123 11.8525C114.643 13.2412 113.866 14.5186 112.794 15.6846C111.722 16.8447 110.333 17.8496 108.628 18.6992L107.529 17.1875C108.965 16.4609 110.154 15.6318 111.098 14.7002C112.047 13.7686 112.756 12.7227 113.225 11.5625C113.693 10.3965 113.928 9.10156 113.928 7.67773V7.33496H115.853ZM114.921 8.94336H108.355V7.33496H114.921V8.94336ZM136.428 21.5469H134.45V5.67383H136.428V21.5469ZM131.69 7.36133C131.69 9.01953 131.45 10.54 130.97 11.9229C130.495 13.2998 129.713 14.5684 128.623 15.7285C127.533 16.8828 126.089 17.8877 124.29 18.7432L123.253 17.1787C124.782 16.4521 126.024 15.626 126.979 14.7002C127.935 13.7744 128.635 12.7344 129.08 11.5801C129.525 10.4258 129.748 9.13086 129.748 7.69531V7.36133H131.69ZM130.627 8.9082H124.062V7.36133H130.627V8.9082Z"
                fill="black" />
            <path d="M5 3C5 18 16.0164 18 19 18" stroke="black" stroke-width="2" stroke-linecap="round" />
            <path d="M1 9L4.70588 2L10 7.92308" stroke="black" stroke-width="2" stroke-linecap="round" />
        </svg>
        <svg width="57" height="26" viewBox="0 0 57 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M8.56836 15.6143C9.72852 15.6143 10.7275 15.7314 11.5654 15.9658C12.4092 16.1943 13.0596 16.5342 13.5166 16.9854C13.9795 17.4307 14.2109 17.9639 14.2109 18.585C14.2109 19.1943 13.9795 19.7188 13.5166 20.1582C13.0596 20.6035 12.4062 20.9434 11.5566 21.1777C10.7129 21.418 9.7168 21.5381 8.56836 21.5381C7.4375 21.5381 6.44727 21.418 5.59766 21.1777C4.75391 20.9434 4.10059 20.6035 3.6377 20.1582C3.18066 19.7188 2.95215 19.1943 2.95215 18.585C2.95215 17.9697 3.18066 17.4365 3.6377 16.9854C4.10059 16.5342 4.75391 16.1943 5.59766 15.9658C6.44141 15.7314 7.43164 15.6143 8.56836 15.6143ZM8.56836 17.0732C7.80664 17.0732 7.15039 17.1318 6.59961 17.249C6.04883 17.3662 5.62695 17.5391 5.33398 17.7676C5.04688 17.9961 4.90332 18.2686 4.90332 18.585C4.90332 18.8955 5.04688 19.1592 5.33398 19.376C5.62695 19.5928 6.04883 19.7598 6.59961 19.877C7.15039 19.9883 7.80664 20.0439 8.56836 20.0439C9.34766 20.0439 10.0098 19.9883 10.5547 19.877C11.1055 19.7598 11.5273 19.5928 11.8203 19.376C12.1191 19.1533 12.2686 18.8896 12.2686 18.585C12.2686 18.2686 12.1191 17.9961 11.8203 17.7676C11.5273 17.5391 11.1055 17.3662 10.5547 17.249C10.0098 17.1318 9.34766 17.0732 8.56836 17.0732ZM13.2881 7.97656H3.10156V6.42969H13.2881V7.97656ZM15.8721 14.4541H1.44043V12.8721H15.8721V14.4541ZM8.96387 13.3203H7.03027V9.99805H8.96387V13.3203ZM14.123 7.73926C14.123 8.59473 14.0967 9.33301 14.0439 9.9541C13.9971 10.5752 13.8711 11.249 13.666 11.9756L11.7412 11.7822C11.9287 11.0439 12.043 10.3906 12.084 9.82227C12.1309 9.25391 12.1572 8.55957 12.1631 7.73926V6.42969H14.123V7.73926ZM22.4287 21.5469H20.4248V15.623H22.4287V21.5469ZM27.9307 21.5469H25.9531V15.623H27.9307V21.5469ZM31.4814 16.168H16.9619V14.5859H31.4814V16.168ZM24.1777 6.24512C25.3027 6.24512 26.2959 6.38867 27.1572 6.67578C28.0244 6.96289 28.6982 7.37598 29.1787 7.91504C29.6592 8.44824 29.8994 9.07227 29.8994 9.78711C29.8994 10.4844 29.6592 11.0967 29.1787 11.624C28.6982 12.1455 28.0244 12.5498 27.1572 12.8369C26.2959 13.1182 25.3027 13.2617 24.1777 13.2676C23.0527 13.2617 22.0596 13.1182 21.1982 12.8369C20.3428 12.5498 19.6748 12.1455 19.1943 11.624C18.7139 11.0967 18.4736 10.4844 18.4736 9.78711C18.4736 9.07227 18.7109 8.44824 19.1855 7.91504C19.6602 7.37598 20.3311 6.96289 21.1982 6.67578C22.0654 6.38867 23.0586 6.24512 24.1777 6.24512ZM24.1777 7.80957C23.4336 7.80957 22.7832 7.88867 22.2266 8.04688C21.6699 8.20508 21.2422 8.43359 20.9434 8.73242C20.6445 9.02539 20.4951 9.37695 20.4951 9.78711C20.4951 10.1855 20.6445 10.5312 20.9434 10.8242C21.2422 11.1113 21.6699 11.3311 22.2266 11.4834C22.7832 11.6357 23.4336 11.7119 24.1777 11.7119C24.9277 11.7119 25.5811 11.6357 26.1377 11.4834C26.7002 11.3311 27.1309 11.1113 27.4297 10.8242C27.7344 10.5312 27.8867 10.1855 27.8867 9.78711C27.8867 9.37695 27.7344 9.02539 27.4297 8.73242C27.1309 8.43359 26.7002 8.20508 26.1377 8.04688C25.5811 7.88867 24.9277 7.80957 24.1777 7.80957Z"
                fill="black" />
            <path d="M52 3C52 18 40.9836 18 38 18" stroke="black" stroke-width="2" stroke-linecap="round" />
            <path d="M56 9L52.2941 2L47 7.92308" stroke="black" stroke-width="2" stroke-linecap="round" />
        </svg>

    </div>
    <div id="poster" class="poster__container">
        <div class="poster__qna">
            <div class="poster__qna_q_container">
                <!-- <div class="poster__qna_q_icon">Q</div> -->
                <div class="poster__qna_q" id="poster__qna_q"></div>
            </div>
            <!-- <div class="poster__qna_a_container"> -->
            <p class="poster__qna_a" id="poster__qna_a"></p>
            <!-- </div> -->
        </div>
        <p class="poster__disclaimer">
            국민건강비서 서비스가 제공하는 정보는 국민건강정보포털을 기반으로<br>
            인공지능이 생성한 내용이므로 부정확한 표현이 포함되어 있을 수 있습니다.<br>
            의약품 및 질병과 관련한 내용은 반드시 의사와 상담하십시오.
        </p>
    </div>
    <div class="button__container">
        <div class="button__container--inline">
            <div id="btn_tts" class="button--small" onclick="tts();">읽어주기</div>
            <div id="btn_magnify" class="button--small" onclick="magnify();">큰 글씨</div>
        </div>
        <div class="button--save" onclick="saveAsImage();">사진으로 저장하기</div>
    </div>


    <script src="https://unpkg.com/dom-to-image-more@3.5.0/dist/dom-to-image-more.min.js"></script>
    <script>
        const getUrlParams = (s) => {
            const params = {};
            const queryString = s ? s : window.location.search.substring(1);
            const regex = /([^&=]+)=([^&]*)/g;
            let match;
            while (match = regex.exec(queryString)) {
                params[decodeURIComponent(match[1])] = decodeURIComponent(match[2]);
            }
            return params;
        };

        const urlParams = getUrlParams(atob(getUrlParams().c));
        console.log(urlParams);

        if (urlParams.type === 'qna__square_single') {
            const Q = (urlParams.q);
            const A = (urlParams.a.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replaceAll('\n', '<br>'));
            document.getElementById('poster__qna_q').innerText = Q;
            document.getElementById('poster__qna_a').innerHTML = A;
        }

        if (window.navigator.userAgent.includes('KAKAOTALK')) {

        } else {
            document.querySelector('.indicator').style.display = 'none';
        }

        if (!SpeechSynthesisUtterance) {
            btn_tts.style.display = 'none';
        }

        const tts = () => {
            speechSynthesis.cancel();
            let utterance = new SpeechSynthesisUtterance(urlParams.a);
            utterance.lang = 'ko-KR';
            utterance.voice = speechSynthesis.getVoices().filter(e => e.lang === 'ko-KR')[9];
            console.log(speechSynthesis.getVoices().filter(e => e.lang === 'ko-KR'))
            console.log(utterance.voice);
            speechSynthesis.speak(utterance);
        };

        const magnify = () => {
            if (localStorage.getItem('magnified')) {
                localStorage.removeItem('magnified');
            } else {
                localStorage.setItem('magnified', 'true');
            }
            document.getElementById('btn_magnify').classList.toggle('button--selected');
            document.getElementById('poster__qna_a').classList.toggle('poster__qna_a--magnified');

        };
        const preset = localStorage.getItem('magnified') != null;
        if (preset) {
            localStorage.removeItem('magnified');
            magnify();
        }

        const saveAsImage = () => {
            localStorage.removeItem('magnified');
            document.getElementById('btn_magnify').classList.remove('button--selected');
            document.getElementById('poster__qna_a').classList.remove('poster__qna_a--magnified');

            domtoimage.toJpeg(poster, {
                width: poster.clientWidth * 4,
                height: poster.clientHeight * 4,
                style: {
                    transform: "scale(4)",
                    transformOrigin: "top left"
                }
            }).then((dataUrl) => {
                var link = document.createElement('a');
                link.download = '국민건강비서_포스터.jpeg';
                link.href = dataUrl;
                link.click();
            });
        };
    </script>
</body>

</html>